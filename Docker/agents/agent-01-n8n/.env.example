# n8n Orchestrator Configuration (.env.example)
# ðŸš¨ IMPORTANT SECURITY NOTICE:
# This is a TEMPLATE file showing required variables.
# DO NOT commit actual .env file with secrets to git!
# All secrets must come from room-02-tresor-vault

# Database Configuration (from room-03-postgres-master)
# These should be provided by the vault or orchestration system
DB_USER=postgres
DB_PASSWORD=${VAULT_POSTGRES_PASSWORD}
N8N_DB_NAME=sin_solver
N8N_DB_HOST=room-03-postgres-master
N8N_DB_PORT=5432

# Redis Cache (from room-04-redis-cache)
REDIS_HOST=room-04-redis-cache
REDIS_PORT=6379
REDIS_PASSWORD=${VAULT_REDIS_PASSWORD}

# n8n Core Configuration
N8N_HOST=0.0.0.0
N8N_PORT=5678
N8N_PROTOCOL=http
N8N_EDITOR_BASE_URL=http://localhost:5678/

# Security - MUST come from vault (room-02-tresor-secrets)
N8N_ENCRYPTION_KEY=${VAULT_N8N_ENCRYPTION_KEY}
N8N_USER_MANAGEMENT_JWT_SECRET=${VAULT_N8N_JWT_SECRET}

# Workflow Configuration
N8N_EXECUTIONS_DATA_MAX_AGE=7d
N8N_EXECUTIONS_DATA_SAVE_ON_ERROR=all
N8N_EXECUTIONS_DATA_SAVE_ON_SUCCESS=all

# Webhooks
N8N_WEBHOOKS_URL=http://localhost:5678
WEBHOOK_TUNNEL_URL=http://agent-01-n8n-orchestrator:5678

# Metrics & Logging
N8N_METRICS=true
LOG_LEVEL=info
GENERIC_TIMEZONE=UTC

# External Integrations (VAULT ONLY - do not commit values!)
SENDGRID_API_KEY=${VAULT_SENDGRID_API_KEY}
SENDGRID_FROM_EMAIL=${VAULT_SENDGRID_FROM_EMAIL}
SLACK_API_TOKEN=${VAULT_SLACK_API_TOKEN}
